<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>lennis-dev's email-obfuscater</title>
        <link rel="stylesheet" href="./static/style.css" />
    </head>

    <body>
        <noscript>
            <div class="infotext">
                <h1>THIS PAGE NEEDS JAVASCRIPT</h1>
            </div>
        </noscript>
        <div class="infotext">
            <h1>How does it work?</h1>

            This tool encodes your email address in base64 and splits this
            base64 character string into different sized parts and reverses the
            order.<br /><br />

            the browser splits the string back into the different parts and
            inverts the sequence again, then decodes the valid base64 code.
            After that it creates a new link element with the email address and
            the matching mailto link. finally it inserts this element on the
            page at the position where the code was.

            <obfuscated-email
                obfuscated="2?V?aXMuZG?b0BsZW5u?ZGVt"
            ></obfuscated-email>
        </div>
        <div>
            <input
                id="email"
                placeholder="please enter your email address here"
                type="email"
            />
            <div class="notvalid">
                this does not look like a real email address
            </div>
        </div>
        <div class="output">
            <h3>Emmbeded Code (Simple)</h3>
            <div class="benefits">
                <strong>Benefits:</strong><br />
                - You only need this code and nothing else
            </div>
            <br />
            <div class="disadvantage">
                <strong>Disadvantages:</strong><br />
                - Not compatible with all Content-Security-Policy headers, which
                can block the script from running.
            </div>
            <code
                >&lt;script&gt;var a=atob(&quot;<span id="code-mail"></span
                >&quot;.split(&quot;?&quot;).reverse().join(&quot;&quot;)),b=document.createElement(&quot;a&quot;);b.innerText=a;b.href=&quot;mailto:&quot;+a;document.currentScript.replaceWith(b);&lt;/script&gt;</code
            >
            <h3>Reference Code (More Complex)</h3>
            <div class="benefits">
                <strong>Benefits:</strong><br />
                - Better compatibility with Content-Security-Policy headers.<br />
                - Cleaner code and simpler to update
            </div>
            <br />
            <div class="disadvantage">
                <strong>Disadvantages:</strong><br />
                - Need to embed a <a href="./embed-script.js">this script</a> on
                the each page, where it is used.
            </div>
            <code>
                &lt;obfuscated-email obfuscated="<span id="code-html"></span
                >"&gt;&lt;/obfuscated-email&gt;
            </code>
        </div>
        <div class="infotext coded-with">
            Coded With &#10084;&#65039; by
            <a href="https://github.com/lennis-dev">lennis-dev</a>
        </div>
        <script src="./static/script.js"></script>
        <script src="./embed-script.js"></script>
    </body>
</html>
